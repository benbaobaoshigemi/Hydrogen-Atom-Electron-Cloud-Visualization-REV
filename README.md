# 氢原子电子云可视化

一个基于 Three.js 的交互式氢原子电子云可视化工具，采用物理精确的蒙特卡洛采样算法生成电子概率密度分布的3D点云表示。

[License](https://img.shields.io/badge/License-MIT-green)

---

## ✨ 核心特性

### 🎯 物理精确性
- **严格的量子力学计算**：完整实现氢原子波函数 ψ(n,l,m)
- **Condon-Shortley 相位约定**：正确的球谐函数相位定义
- **重要性采样**：高效的蒙特卡洛采样，概率密度决定点分布

### 🔬 轨道支持
- **完整的原子轨道**：支持 1s 至 5g 的全部轨道类型 (n=1~5, l=0~4)
- **杂化轨道**：sp、sp²、sp³、sp³d、sp³d² 杂化轨道可视化
- **多轨道模式**：单轨、多选叠加、轨道对比三种显示模式

### 🎨 可视化功能
- **相位显示**：红/蓝色区分波函数正负相位
- **轨道轮廓**：95% 概率密度等值面网格显示
- **3D 角向分布**：球谐函数角度分布的独立显示
- **径向/角向分布图**：实时概率密度分布直方图

### 🖐️ 交互体验
- **手势控制**：摄像头手势识别（握拳旋转、双手缩放）
- **自动旋转录制**：可导出旋转动画视频
- **闪烁动效**：星空、呼吸、波浪三种动态效果
- **高清导出**：支持透明背景 PNG 导出

---

## 🚀 快速开始

### 方式一：直接运行（推荐）

本项目已打包为 Windows 可执行文件，无需安装任何依赖即可运行：

1. 双击运行目录下的 **`Hydrogen_Electron_Cloud.exe`**。
2. 程序会自动启动本地服务器并打开默认浏览器访问应用。
3. 关闭控制台窗口即可退出程序。

### 方式二：源码运行

如果您希望修改代码或在非 Windows 环境下运行：

1. 确保已安装 Python 3.x。
2. 在项目根目录下运行启动脚本：
   ```bash
   python start_server.py
   ```
3. 浏览器将自动打开 `http://127.0.0.1:8000`。

---

## 📖 使用说明

### 基本操作
1. **选择轨道**：左侧控制面板选择目标轨道 (如 2px, 3d_z2)
2. **启动渲染**：点击「启动」按钮开始采样
3. **调整参数**：可实时调整点数、大小、亮度等参数
4. **视角操作**：鼠标拖动旋转，滚轮缩放

### 模式切换
| 模式 | 说明 |
|------|------|
| 单轨 | 单一轨道精细观察 |
| 多选 | 多轨道叠加显示 |
| 比照 | 多轨道独立对比 |
| 杂化 | 杂化轨道组合 |

### 手势控制
启用手势控制后：
- 🤜 **握拳拖动** → 旋转视角
- 🖐️ **张开手掌** → 释放/待机
- 🤏🤏 **双手捏合** → 缩放视图

---

## 📁 项目结构

```
├── index.html           # 主页面
├── style.css            # 样式表
├── physics.js           # 量子力学计算核心
├── sampling.js          # 采样算法实现
├── sampling-worker.js   # Web Worker 采样
├── visualization.js     # 3D 可视化渲染
├── scene.js             # Three.js 场景管理
├── ui.js                # 用户界面交互
├── orbital.js           # 轨道参数定义
├── data_panel.js        # 数据面板与图表
├── gesture_v2.js        # 手势识别系统
├── marching_cubes.js    # 等值面算法
├── core.js              # 核心工具函数
├── main.js              # 主入口
├── start_server.py      # 本地服务器脚本
└── materials.json       # 材质配置
```

---

## 🛠️ 技术栈

- **Three.js** - 3D WebGL 渲染引擎
- **Chart.js** - 数据可视化图表
- **MediaPipe Hands** - 手势识别
- **Web Workers** - 多线程采样

---

## 📚 理论背景

本项目基于量子力学中氢原子的精确解：

$$\psi_{n,l,m}(r,\theta,\phi) = R_{nl}(r) \cdot Y_l^m(\theta,\phi)$$

其中：
- $R_{nl}(r)$ 为径向波函数，包含 Laguerre 多项式
- $Y_l^m(\theta,\phi)$ 为球谐函数

采样点的分布概率与 $|\psi|^2$ 成正比，真实反映电子出现概率。

---

## 📄 License

MIT License © 2024

---

## 🙏 致谢

感谢所有为本项目提供反馈和建议的用户。
