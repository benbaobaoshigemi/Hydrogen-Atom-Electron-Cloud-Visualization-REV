# 🔬 氢原子电子云三维可视化 v2.1

> 基于真实量子力学波函数的教学演示工具 —— 让抽象的电子云变得可见、可触、可理解

[![版本](https://img.shields.io/badge/版本-v2.1-green)](https://github.com/benbaobaoshigemi/Hydrogen-Atom-Electron-Cloud-Visualization-main)
[![更新日期](https://img.shields.io/badge/更新日期-2025--12--02-blue)](./CHANGELOG.md)

---

## 📖 目录

1. [项目简介](#项目简介)
2. [快速开始](#快速开始)
3. [界面概览](#界面概览)
4. [功能详解](#功能详解)
   - [轨道选择系统](#轨道选择系统)
   - [渲染模式](#渲染模式)
   - [相位渲染](#相位渲染)
   - [参数控制](#参数控制)
   - [坐标系控制](#坐标系控制)
   - [数据面板与图表](#数据面板与图表)
   - [3D角向形状叠加](#3d角向形状叠加)
   - [视图控制](#视图控制)
   - [实验功能](#实验功能)
5. [物理原理与采样算法](#物理原理与采样算法)
6. [技术实现](#技术实现)
7. [性能优化建议](#性能优化建议)
8. [常见问题](#常见问题)
9. [教学建议](#教学建议)
10. [开发者信息](#开发者信息)

---

## 项目简介

本软件是一款专为**化学与物理教学**设计的氢原子电子云三维可视化工具。通过**真实的量子力学波函数计算**，以蒙特卡洛采样的方式，直观展示氢原子中电子在三维空间中的概率分布。

### 核心教学价值

- **电子云概念的直观呈现**：电子并非沿固定轨道运动，而是以概率云的形式分布在原子核周围
- **轨道形状的三维展示**：s（球形）、p（哑铃形）、d（花瓣形）、f（复杂花瓣形）、g（更复杂形状）轨道的真实形态
- **量子数的物理意义**：主量子数 n、角量子数 l、磁量子数 m 如何决定轨道的大小、形状和空间取向
- **波函数相位的可视化**：展示波函数的正负区域，帮助理解化学键的形成基础
- **径向与角向分布的统计分析**：实时生成概率密度图表，与理论曲线对比

### 支持的轨道类型

本软件支持从 n=1 到 n=5 的所有氢原子轨道：

| 主量子数 n | 轨道类型 | 数量 | 具体轨道 |
|-----------|---------|------|---------|
| 1 | s | 1 | 1s |
| 2 | s, p | 4 | 2s, 2px, 2py, 2pz |
| 3 | s, p, d | 9 | 3s, 3px, 3py, 3pz, 3d(xy), 3d(xz), 3d(yz), 3d(x²-y²), 3d(z²) |
| 4 | s, p, d, f | 16 | 4s, 4px, 4py, 4pz, 4d系列, 4f系列 |
| 5 | s, p, d, f, g | 25 | 5s, 5px, 5py, 5pz, 5d系列, 5f系列, 5g系列 |

共计 **55 种轨道**，涵盖化学教学中常见的所有氢原子轨道，以及更高能层的 g 轨道。

### 性能优化

本软件采用**重要性采样（Importance Sampling）**算法进行蒙特卡洛采样，相比传统的拒绝采样方法，采样效率显著提升，尤其对于高 n 值的弥散轨道（如 4f、5g 等），效率提升可达 3-10 倍。

---

## 快速开始

### 方式一：一键启动（推荐，无需任何编程知识）

1. 双击 **`氢原子电子云可视化.exe`** 文件
2. 程序会自动启动本地服务器并打开默认浏览器
3. 等待页面加载完成（约 2-5 秒）即可使用

> ⚠️ **重要提示**：
> - 首次启动时 Windows 防火墙可能弹出提示，请选择"允许访问"
> - 使用过程中请勿关闭黑色命令行窗口，它是程序的后台服务
> - 关闭程序时，先关闭浏览器，再关闭命令行窗口

### 方式二：Python 环境运行（适合有编程基础的用户）

```bash
python start_server.py
```

程序会自动启动 HTTP 服务器并打开浏览器。

---

## 界面概览

程序界面分为以下几个区域：

```
┌──────────────────────────────────────────────────────────────────┐
│ [⛶全屏]                                    [手势状态] [当前点数] │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│                      ┌─────────────────┐                         │
│   ┌──────────┐       │                 │       ┌──────────────┐  │
│   │ 实验功能 │       │   3D 渲染区域   │       │   控制面板   │  │
│   │ (左侧)   │       │                 │       │   (右侧)     │  │
│   └──────────┘       │  [电子云点云]   │       │              │  │
│                      │  [坐标轴]       │       │ · 模式选择   │  │
│   ┌──────────┐       │  [角向叠加]     │       │ · 轨道选择   │  │
│   │ 视图面板 │       │                 │       │ · 参数调节   │  │
│   │ (左侧)   │       └─────────────────┘       │ · 启动/暂停  │  │
│   └──────────┘                                 └──────────────┘  │
│                                                                  │
│   ┌──────────────────────────────────────────────────────────┐   │
│   │                     数据面板（底部）                      │   │
│   │  [概率密度图表] [径向分布/角向分布切换] [理论曲线对比]   │   │
│   └──────────────────────────────────────────────────────────┘   │
└──────────────────────────────────────────────────────────────────┘
```

所有面板都可以通过点击标签展开或收起，不影响渲染区域的操作。

---

## 功能详解

### 轨道选择系统

#### 轨道列表

位于控制面板中央的下拉选择框，包含所有 30 种氢原子轨道。轨道按主量子数 n 分组：

- **n=1**：1s（最内层，球形）
- **n=2**：2s, 2px, 2py, 2pz（第二层，s 为球形，p 为哑铃形）
- **n=3**：3s, 3p 系列, 3d 系列（第三层，d 为花瓣形）
- **n=4**：4s, 4p 系列, 4d 系列, 4f 系列（第四层，f 为复杂花瓣形）

#### 轨道命名规则

- **s 轨道**：球对称，只有 s 一种
- **p 轨道**：px、py、pz 分别沿 x、y、z 轴方向
- **d 轨道**：
  - d(xy)、d(xz)、d(yz)：四叶草形，位于相应坐标平面
  - d(x²-y²)：四叶草形，沿 x、y 轴方向
  - d(z²)：两头带环的哑铃形，沿 z 轴方向
- **f 轨道**：更复杂的花瓣形状，名称表示角向函数的形式

---

### 渲染模式

程序提供三种渲染模式，位于控制面板顶部：

#### 1. 单选模式（默认）

- 从轨道列表中选择一个轨道进行渲染
- 适合详细观察单个轨道的形状特征
- 支持渲染相位功能
- 点击轨道名称即可选中

#### 2. 多选模式

- 勾选"多选"开关后启用
- 可以同时选择多个轨道进行叠加渲染
- 叠加后的电子云展示多个轨道的概率密度之和
- 适合展示杂化轨道的概念或轨道组合效果
- 点击轨道名称可切换选中/取消状态
- 提供"清除所有选择"按钮快速清空

#### 3. 比照模式

- 勾选"比照"开关后启用
- 最多可选择 **3 个轨道**
- 每个轨道用不同颜色显示：
  - 第 1 个轨道：**红色**
  - 第 2 个轨道：**绿色**
  - 第 3 个轨道：**蓝色**
- 各轨道**独立采样**，互不干扰
- 适合对比不同轨道的大小、形状差异
- 渲染完成后，可在数据面板中查看对比图表

> 💡 **模式切换注意事项**：
> - 多选模式和比照模式互斥，开启一个会自动关闭另一个
> - 切换模式会清空当前选择
> - 渲染过程中无法切换模式

---

### 相位渲染

#### 功能说明

勾选"渲染相位"开关后，程序会根据波函数的正负值为采样点着色：

- **红色**：波函数值为正 (ψ > 0)
- **蓝色**：波函数值为负 (ψ < 0)
- **白色**：未启用相位渲染或节点附近 (ψ ≈ 0)

#### 物理意义

波函数的相位（正负）在化学键形成中具有重要意义：

- **成键轨道**：波函数相位相同的区域相互重叠
- **反键轨道**：波函数相位相反的区域相互重叠
- **节面**：波函数值为零的面，如 2p 轨道在 xy 平面的节面

#### 观察建议

- **p 轨道**：可以清晰看到两个瓣一红一蓝，中间有节面
- **d 轨道**：四个花瓣呈现红蓝交替的图案
- **高 n 值轨道**：可以观察到径向节点（球形节面）

---

### 参数控制

#### 最大点数

控制采样点的总数量，决定电子云的清晰度和细节：

| 设置值 | 适用场景 | 性能影响 |
|--------|---------|---------|
| 6,000 | 快速预览，低配置设备 | 极低 |
| 12,000 | 日常演示 | 低 |
| 24,000（默认） | 标准演示，推荐设置 | 中等 |
| 48,000 | 高清晰度演示 | 较高 |
| 100,000 | 精细观察，需要较好显卡 | 高 |
| 400,000 | 极高清晰度，需要高性能显卡 | 极高 |

> 💡 **建议**：
> - 对于 s、p 轨道，12,000-24,000 点即可获得良好效果
> - 对于 d、f 轨道的细节，建议使用 48,000 以上
> - 如果渲染卡顿，请降低点数

#### 生成速度

控制每帧尝试采样的次数，影响电子云生成的快慢：

- **滑动条左侧**（20,000）：较慢生成，适合逐步观察采样过程
- **滑动条右侧**（800,000）：快速生成，适合快速展示最终结果

生成速度不影响最终结果的质量，只影响达到最大点数所需的时间。

#### 点的大小

控制每个采样点的显示尺寸：

- **小**：更精细的点，适合高点数渲染
- **中**（默认）：平衡显示效果
- **大**：更明显的点，适合低点数或投影演示

#### 亮度

控制电子云的整体亮度和透明度：

- **0-80%**：普通亮度范围，透明度从 5% 逐渐增加到 100%
- **80-100%**：启用辉光效果，电子云会呈现发光效果
- **80% 标记线**：滑动条上有一个标记，表示辉光效果的起点

辉光效果可以增强视觉冲击力，但可能略微降低渲染性能。

#### 固定至中心

勾选后，相机始终对准坐标原点（原子核位置）。适合：

- 观察整个电子云的形状
- 旋转视角时保持原子核在画面中央
- 配合自动旋转功能使用

---

### 坐标系控制

#### 坐标轴滑动条

位于控制面板中部，用于控制三维坐标轴的显示：

- **滑动条值 = 0**：完全隐藏坐标轴
- **滑动条值 1-105**：对应比例系数 0.01-1.05

**计算公式**：
```
坐标轴长度 = 比例系数 × 轨道最远采样距离
```

例如：
- 比例系数 = 0.5，轨道最远点在 20 a₀ → 坐标轴长度 = 10 a₀
- 比例系数 = 1.0 → 坐标轴与电子云等长
- 比例系数 = 1.05 → 坐标轴略大于电子云

#### 坐标轴状态控制

- **渲染前**：可自由调整
- **渲染中**：滑动条置灰，不可调整（保持稳定性）
- **渲染后**：恢复可调整
- **暂停时**：可调整

#### 动态更新

采样过程中，如果发现更远的采样点，坐标轴会自动扩展以覆盖整个电子云范围。

---

### 数据面板与图表

#### 面板操作

- **展开/收起**：点击底部的"数据 ▸"标签
- **放大图表**：点击 ⤢ 按钮，图表放大显示
- **调整大小**：放大模式下，拖动左上角的调整手柄
- **复位大小**：再次点击 ⤢ 按钮

#### 径向分布图

显示电子到原子核距离的概率密度分布：

- **柱状图（白色）**：实际采样数据的统计直方图
- **理论曲线（白色线）**：根据波函数计算的理论径向分布
- **波函数幅值（蓝色虚线，默认隐藏）**：波函数 R(r) 的值

**物理意义**：
- 峰值位置表示电子最可能出现的距离
- 峰的宽度表示电子位置的不确定性
- 多个峰表示存在径向节点

**图例交互**：
- 点击图例中的"波函数（幅值）"可显示/隐藏该曲线
- 隐藏的数据集在图例中会变灰

#### 角向分布图

显示电子在空间各方向的分布（以极角 θ 为变量）：

- **柱状图（白色）**：实际采样数据的角向统计
- **理论曲线（白色线）**：根据球谐函数计算的理论角向分布

**物理意义**：
- θ = 0 对应 +z 轴方向
- θ = π/2 对应 xy 平面
- θ = π 对应 -z 轴方向
- 分布形状反映轨道的角向特征

#### 比照模式下的图表

当使用比照模式时，数据面板会显示各轨道的对比：

- 每个轨道用对应的颜色（红/绿/蓝）绘制
- 可以直观对比不同轨道的径向或角向分布差异

---

### 3D角向形状叠加

#### 功能说明

勾选数据面板中的"3D角向形状"开关后，会在电子云上叠加一个**半透明线框网格**，显示轨道的角向分布形状。

#### 实现方式

- 基于球谐函数 Y(θ,φ) 计算角向概率密度
- 将球面网格的顶点向外推移，推移距离与该方向的概率密度成正比
- 高密度方向凸出更多，低密度方向凸出更少

#### 两种计算模式

1. **理论计算**（采样初期）：基于选中轨道的球谐函数直接计算
2. **采样数据**（采样完成后）：基于实际采样点的角向统计

#### 使用建议

- 对于 p 轨道，可以清晰看到哑铃形的轮廓
- 对于 d 轨道，可以看到四叶草或花瓣形状
- 多选模式下显示叠加后的综合角向形状

---

### 视图控制

#### 鼠标/触摸板操作

- **左键拖动**：旋转视角
- **右键拖动**：平移视角
- **滚轮**：缩放视角

#### 锁定视角

视图面板提供三个快捷按钮，一键锁定到特定轴向视角：

- **X 按钮**：从 +X 轴方向观察（看到 YZ 平面）
- **Y 按钮**：从 +Y 轴方向观察（看到 XZ 平面）
- **Z 按钮**：从 +Z 轴方向观察（看到 XY 平面）

再次点击同一按钮可解除锁定。锁定期间仍可使用滚轮缩放。

#### 自动旋转

使电子云自动绕指定轴旋转，适合展示或录制：

**启用方式**：
1. 渲染完成后，自动旋转开关变为可用
2. 点击"自动旋转"功能框或勾选开关

**参数设置**（点击 ⚙ 按钮）：
- **旋转轴**：设置 X、Y、Z 三个分量，定义旋转轴向量
  - 默认 (0, 1, 0)：绕 Y 轴旋转
  - (1, 0, 0)：绕 X 轴旋转
  - (1, 1, 0)：绕对角线旋转
- **旋转速度**：0-10，数值越大旋转越快

**注意事项**：
- 自动旋转与锁定视角互斥
- 启用自动旋转时会自动解除视角锁定

#### 录制旋转视频

渲染完成并启用自动旋转后，可以录制旋转动画：

1. 点击"录制"按钮开始录制
2. 录制过程中按钮显示"停止"
3. 点击"停止"结束录制
4. 浏览器会自动下载 WebM 格式的视频文件

---

### 实验功能

#### 闪烁模式

使电子云呈现动态闪烁效果，增强视觉表现力：

**闪烁类型**（点击 ⚙ 设置）：
- **星空模式**（默认）：每个采样点独立随机闪烁，如繁星闪烁的夜空
- **呼吸模式**：平滑的正弦波明暗变化，柔和的呼吸灯效果
- **波浪模式**：沿等值面轮廓单向传播的波浪，从0%等值面向外扩散，清晰展示轨道的三维等值面形状

**参数设置**：
- **闪烁频率**：0-100，控制闪烁/波动的快慢
- **最大亮度**：100-300%，控制最亮时的亮度倍数
- **权重模式**：启用后，密集区域闪烁更亮，突出概率密度分布

闪烁模式可以增强演示效果，其中**波浪模式**特别适合展示轨道的等值面形状，等值面从核心向外单向扩散，直观呈现轨道的空间分布。

#### 导出图片/视频

将当前渲染画面导出为高清图片或视频：

**背景选项**（点击 ⚙ 设置）：
- **黑色背景**：保持原始黑色背景
- **透明背景**：导出 PNG 格式，背景透明，便于后期处理

**导出功能**：
- **导出图片**：点击"导出图片"按钮，自动下载高清 PNG 图片
- **录制视频**：在视图面板中，开启自动旋转后点击"录制"按钮，录制 60fps 的 WebM 视频

文件名格式：`electron-cloud-[分辨率]-[背景]-[时间戳].png`

#### 手势控制

如果您的电脑有摄像头，可以使用手势控制视角：

**启用条件**：
- 渲染完成后手势控制按钮变为可用
- 需要允许浏览器访问摄像头

**支持的手势**：

| 手势 | 操作 | 视觉反馈 |
|------|------|---------|
| 🤜 握拳拖动 | 旋转视角 | 手部骨架变绿 |
| 🖐️ 张开手掌 | 释放控制 | 手部骨架变白 |
| 🤏🤏 双手捏合 | 缩放视图 | 手部骨架变青 |

**停止手势控制**：点击右上角的手势状态图标。

---

## 物理原理与采样算法

### 氢原子波函数

氢原子的波函数可以分离为径向部分和角向部分：

$$\psi_{n,l,m}(r, \theta, \phi) = R_{n,l}(r) \cdot Y_l^m(\theta, \phi)$$

其中：
- $R_{n,l}(r)$：径向波函数，取决于主量子数 n 和角量子数 l
- $Y_l^m(\theta, \phi)$：球谐函数，取决于角量子数 l 和磁量子数 m

### 径向波函数

径向波函数的形式为：

$$R_{n,l}(r) = N_{n,l} \cdot e^{-\rho/2} \cdot \rho^l \cdot L_{n-l-1}^{2l+1}(\rho)$$

其中：
- $\rho = \frac{2r}{na_0}$，$a_0$ 是玻尔半径
- $L_{n-l-1}^{2l+1}$ 是连带拉盖尔多项式
- $N_{n,l}$ 是归一化常数

### 实球谐函数

本程序使用**实球谐函数**（而非复球谐函数），因为它们有明确的空间取向，更适合可视化：

- **m = 0**：直接使用 $Y_l^0$（实数）
- **m > 0**：余弦型 $\frac{1}{\sqrt{2}}(Y_l^m + Y_l^{-m})$
- **m < 0**：正弦型 $\frac{1}{i\sqrt{2}}(Y_l^m - Y_l^{-m})$

这就是为什么 p 轨道有 px、py、pz 三种取向，而非 p₊₁、p₀、p₋₁。

### 概率密度

电子在空间某点出现的概率密度为波函数模的平方：

$$\rho(r, \theta, \phi) = |\psi|^2 = |R_{n,l}(r)|^2 \cdot |Y_l^m(\theta, \phi)|^2$$

### 蒙特卡洛采样算法

程序使用**拒绝采样法**（Rejection Sampling）生成符合概率密度分布的采样点：

```
算法流程：
1. 在采样边界内随机生成一个点 (x, y, z)
2. 转换为球坐标 (r, θ, φ)
3. 计算该点的概率密度 ρ(r, θ, φ)
4. 生成一个 [0, 1) 的随机数 u
5. 如果 u < ρ × scaleFactor，接受该点；否则拒绝
6. 重复直到达到目标点数
```

**scaleFactor** 是一个与主量子数相关的缩放因子：
```javascript
scaleFactor = min(200, 3.0 × n³)
```

这确保了不同轨道的采样效率大致相当。

### 动态边界调整

采样边界会根据轨道的特性动态调整：

**初始边界**：
$$boundary = 4n^2 + 2n$$

这个公式覆盖了约 95-99% 的概率区域。

**动态扩展**：
- 当采样到超出当前边界的点时，边界自动扩展 5%
- 确保能捕获概率分布的长尾部分

---

## 技术实现

### 技术栈

| 组件 | 技术 | 用途 |
|------|------|------|
| 3D 渲染引擎 | Three.js r128 | WebGL 3D 渲染 |
| 后处理效果 | Three.js EffectComposer | 辉光（Bloom）效果 |
| 图表库 | Chart.js | 概率密度图表绑制 |
| 手势识别 | MediaPipe Hands | 摄像头手势控制 |
| 视频录制 | MediaRecorder API | 旋转动画录制 |
| 后端服务 | Python http.server | 本地 HTTP 服务器 |

### 渲染管线

```
采样数据 → BufferGeometry → PointsMaterial → Points
                                    ↓
                              EffectComposer
                                    ↓
                              RenderPass
                                    ↓
                              UnrealBloomPass（可选）
                                    ↓
                              最终画面
```

### 性能优化措施

1. **BufferGeometry**：使用缓冲几何体，避免每帧重新创建对象
2. **预分配数组**：根据最大点数预分配 Float32Array
3. **分帧采样**：每帧只进行有限次数的采样尝试，避免阻塞渲染
4. **条件更新**：只在数据变化时更新几何体属性
5. **Layer 分离**：角向叠加层使用单独的渲染层，不受辉光影响

### 模块架构

```
main.js          - 入口文件，初始化
core.js          - 核心状态管理
physics.js       - 物理计算（波函数、球谐函数）
sampling.js      - 蒙特卡洛采样逻辑
orbital.js       - 轨道管理和绑制控制
scene.js         - Three.js 场景管理
visualization.js - 可视化效果（角向叠加、导出）
ui.js            - 用户界面交互
data_panel.js    - 数据面板和图表
gesture_v2.js    - 手势控制模块
```

---

## 性能优化建议

### 不同配置的推荐设置

| 设备类型 | 显卡 | 推荐最大点数 | 辉光效果 | 适合轨道 |
|----------|------|-------------|----------|---------|
| 低配置 | 集成显卡 | 6,000-12,000 | 关闭 | 1s, 2s, 2p |
| 中等配置 | 入门独显 | 24,000-48,000 | 可开启 | 所有 s, p, d |
| 高配置 | 中高端独显 | 100,000-400,000 | 推荐开启 | 所有轨道 |

### 卡顿时的处理方法

1. **降低最大点数**：这是最有效的方法
2. **关闭辉光效果**：将亮度滑动条调到 80% 以下
3. **关闭 3D 角向形状**：取消勾选该选项
4. **关闭闪烁模式**：如果开启了闪烁效果
5. **关闭其他程序**：特别是占用 GPU 的程序
6. **使用 Chrome 浏览器**：通常 WebGL 性能最好

### 复杂轨道的渲染建议

对于 4d 和 4f 轨道，由于形状复杂，建议：

- 使用至少 48,000 点以显示细节
- 适当降低生成速度以观察采样过程
- 开启相位渲染以区分不同区域

---

## 常见问题

### 启动问题

**Q: 程序无法启动？**

A: 请依次检查：
1. 确保 Windows 版本为 10 或 11
2. 右键以管理员身份运行
3. 检查杀毒软件是否阻止，添加信任
4. 确保防火墙允许程序访问网络

**Q: 浏览器显示空白或错误？**

A: 请检查：
1. 使用现代浏览器（Chrome、Edge、Firefox 最新版）
2. 浏览器需要支持 WebGL 2.0
3. 等待页面完全加载（可能需要几秒）
4. 检查浏览器控制台是否有错误信息（F12）

### 渲染问题

**Q: 电子云渲染很慢？**

A: 
1. 降低最大点数设置
2. 提高生成速度（滑动条向右）
3. 关闭辉光效果

**Q: 电子云看起来不完整或有空洞？**

A: 
1. 增加最大点数
2. 等待采样完成（查看当前点数是否达到最大值）
3. 对于高 n 值轨道，需要更多采样点

**Q: 坐标轴与电子云不匹配？**

A: 
1. 调整坐标系大小滑动条
2. 等待采样完成后再调整（采样中会动态更新）

### 功能问题

**Q: 手势控制无法使用？**

A: 
1. 确保已完成渲染（按钮启用）
2. 允许浏览器访问摄像头
3. 确保光线充足，手部在摄像头视野内
4. 必须通过 HTTP 服务器访问（不能直接打开 HTML 文件）

**Q: 导出的图片背景不透明？**

A: 
1. 在导出设置中选择"透明"背景
2. 确保导出格式为 PNG

**Q: 比照模式下只能选择 3 个轨道？**

A: 这是设计限制。比照模式使用红、绿、蓝三种颜色区分轨道，最多支持 3 个。如需更多轨道，请使用多选模式。

---

## 教学建议

### 课堂演示流程

#### 第一课时：电子云基本概念

1. **引入**：介绍波尔模型的局限性
2. **展示 1s 轨道**：最简单的球形分布，解释电子云的含义
3. **互动**：让学生观察点的分布密度变化
4. **数据分析**：查看径向分布图，找到最可能距离

#### 第二课时：轨道形状

1. **复习**：快速展示 1s 轨道
2. **对比 s 轨道**：使用比照模式展示 1s、2s、3s
3. **展示 p 轨道**：讲解哑铃形的由来，演示 px、py、pz 的取向
4. **相位渲染**：解释波函数正负区域的物理意义

#### 第三课时：高级轨道

1. **d 轨道**：展示各种 d 轨道形状
2. **f 轨道**：简要介绍复杂轨道
3. **量子数总结**：n、l、m 如何决定轨道特性

### 配合知识点

| 知识点 | 推荐展示 |
|--------|---------|
| 电子云概念 | 1s 轨道，高点数，慢速生成 |
| 主量子数与能级 | 比照模式：1s vs 2s vs 3s |
| 轨道形状 | 2p 轨道，开启相位 |
| 节面概念 | 2p 或 3d 轨道，相位渲染 |
| 轨道取向 | 比照模式：2px vs 2py vs 2pz |
| 杂化轨道基础 | 多选模式：2s + 2px + 2py + 2pz |

### 学生互动建议

1. **预测游戏**：让学生预测下一个轨道的形状，再展示验证
2. **比较任务**：让学生找出两个轨道的相同点和不同点
3. **数据分析**：让学生从图表中读取最可能距离、节点数等信息
4. **画图练习**：观察后让学生手绘轨道示意图

---

## 开发者信息

### 从源码重新打包

如果需要修改代码后重新打包：

1. 安装 PyInstaller：
```bash
pip install pyinstaller
```

2. 运行打包脚本：
```bash
python build_exe.py
```

3. 打包完成后，在 `dist/氢原子电子云可视化/` 文件夹中找到可执行文件

### 项目结构

```
├── index.html          # 主页面
├── style.css           # 样式表
├── main.js             # 入口脚本
├── core.js             # 核心状态管理
├── physics.js          # 物理计算
├── orbital.js          # 轨道管理
├── sampling.js         # 采样逻辑
├── scene.js            # 场景管理
├── visualization.js    # 可视化效果
├── ui.js               # 界面交互
├── data_panel.js       # 数据面板
├── gesture_v2.js       # 手势控制
├── gesture_config.json # 手势配置
├── start_server.py     # Python 服务器脚本
├── build_exe.py        # EXE 打包脚本
├── README.md           # 本文档
├── CHANGELOG.md        # 更新日志
└── USAGE_GUIDE.md      # 使用指南
```

### 依赖的外部库

- Three.js r128（CDN）
- Chart.js（CDN）
- MediaPipe Hands（CDN，手势控制用）

### 系统要求

- **操作系统**：Windows 10 / 11
- **浏览器**：Chrome 80+、Edge 80+、Firefox 75+
- **显卡**：支持 WebGL 2.0
- **内存**：建议 4GB 以上
- **摄像头**：手势控制功能需要（可选）

---

## 🛠️ 开发工具配置

### GitHub Copilot Agent 模式

如果您使用 VSCode 进行开发，可以配置 GitHub Copilot 的 Agent 模式来提高开发效率。Agent 模式允许 AI 直接对代码进行编辑。

查看 [COPILOT_AGENT_SETUP.md](COPILOT_AGENT_SETUP.md) 了解如何设置免审批功能。

---

## 📝 更新日志

查看 [CHANGELOG.md](CHANGELOG.md) 了解版本更新历史。

---

## 📄 许可证

本项目采用 MIT 许可证，可自由用于教学目的。

---

## 🙏 致谢

感谢所有为化学教育事业做出贡献的教育工作者。

---

**如有问题或建议，欢迎反馈！**



